jQuery(function(a){function r(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(a,e){return String.fromCharCode("0x"+e)}))}function k(a){return decodeURIComponent(atob(a).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function t(){a("div.ai-rotate").each(function(a,m){ai_process_rotation(this)})}function u(){a("div.ai-rotate.ai-rotation-groups").each(function(a,m){ai_process_rotation(this)})}var l=[];ai_process_rotation=function(a){l.includes(a.selector)&&
l.splice(l.indexOf(a.selector),1);if("number"==typeof a.length)for(var e=0;e<a.length;e++)0==e?ai_process_single_rotation(a[e],!0):ai_process_single_rotation(a[e],!1);else ai_process_single_rotation(a,!0)};ai_process_single_rotation=function(e,m){var g=a(".ai-rotate-option",e);if(0!=g.length){g.hide();if("undefined"==typeof a(e).data("next"))if("undefined"!=typeof a(g[0]).data("group")){var f=-1,p=[];a("span[data-ai-groups]").each(function(b){(a(this)[0].offsetWidth||a(this)[0].offsetHeight||a(this)[0].getClientRects().length)&&
p.push(this)});1<=p.length&&JSON.parse(k(a(p).first().data("ai-groups"))).forEach(function(b,c){-1==f&&g.each(function(c){if(k(a(this).data("group"))==b)return f=c,!1})})}else{var d=a(e).data("shares");if("string"===typeof d){d=JSON.parse(atob(d));var h=Math.round(100*Math.random());for(var b=0;b<d.length&&(f=b,0>d[b]||!(h<=d[b]));b++);}else f=Math.floor(Math.random()*g.length),(new Date).getMilliseconds()%2&&(f=g.length-f-1)}else f=parseInt(a(e).attr("data-next")),b=a(g[f]),"undefined"!=typeof b.data("code")&&
(b=a(k(b.data("code")))),0!=b.find("span[data-ai-groups]").addBack("span[data-ai-groups]").length&&0!=a(".ai-rotation-groups").length&&setTimeout(function(){u()},5);if(!(0>f||f>=g.length)){b=a(g[f]);d="";if("undefined"!=typeof b.data("time")){h=atob(b.data("time"));if(0==h&&1<g.length){var c=f;do{c++;c>=g.length&&(c=0);var n=a(g[c]);if("undefined"==typeof n.data("time")){f=c;b=a(g[f]);h=0;break}n=atob(n.data("time"))}while(0==n&&c!=f);0!=h&&(f=c,b=a(g[f]),h=atob(b.data("time")))}if(0<h&&(c=f+1,c>=
g.length&&(c=0),"undefined"!=typeof a(e).data("info"))){d=JSON.parse(atob(a(e).data("info")))[0];a(e).attr("data-next",c);var q="div.ai-rotate.ai-"+d;l.includes(q)&&(m=!1);m&&(l.push(q),setTimeout(function(){ai_process_rotation(a(q))},1E3*h));d=" ("+h+" s)"}}else"undefined"==typeof b.data("group")&&g.each(function(b){b!=f&&a(this).remove()});b.css({display:"",visibility:"",position:"",width:"",height:"",top:"",left:""}).removeClass("ai-rotate-hidden").removeClass("ai-rotate-hidden-2");a(e).css({position:""});
"undefined"!=typeof b.data("code")&&(g.empty(),h=k(b.data("code")),b.append(h));h="";c=a(e).closest(".ai-debug-block");0!=c.length&&(h=k(b.data("name")),b=c.find("kbd.ai-option-name"),c=c.find(".ai-debug-block"),"undefined"!=typeof c&&(c=c.find("kbd.ai-option-name"),b=b.slice(0,b.length-c.length)),"undefined"!=typeof b&&(c=b.first().data("separator"),"undefined"==typeof c&&(c=""),b.html(c+h+d)));b=!1;c=a(e).closest(".ai-adb-show");0!=c.length&&c.data("ai-tracking")&&(d=JSON.parse(k(c.data("ai-tracking"))),
"undefined"!==typeof d&&d.constructor===Array&&(d[1]=f+1,d[3]=h,c.data("ai-tracking",r(JSON.stringify(d))),b=!0));b||(b=a(e).closest("div[data-ai]"),"undefined"!=typeof b.data("ai")&&(d=JSON.parse(k(b.data("ai"))),"undefined"!==typeof d&&d.constructor===Array&&(d[1]=f+1,d[3]=h,b.data("ai",r(JSON.stringify(d))))))}}};ai_process_rotations_in_element=function(e){a("div.ai-rotate",e).each(function(a,e){ai_process_rotation(this)})};a(document).ready(function(a){setTimeout(function(){t()},10)})});
